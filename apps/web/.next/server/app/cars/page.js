(()=>{var e={};e.id=520,e.ids=[520],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3752:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(9441),t=r(1498),l=r(6580),n=r.n(l),i=r(5511),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(a,o);let d=["",{children:["cars",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1677)),"/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/cars/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1883)),"/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/cars/page.tsx"],u="/cars/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/cars/page",pathname:"/cars",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3357:(e,a,r)=>{Promise.resolve().then(r.bind(r,9408))},109:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,9489,23)),Promise.resolve().then(r.t.bind(r,6225,23)),Promise.resolve().then(r.t.bind(r,5964,23)),Promise.resolve().then(r.t.bind(r,5804,23)),Promise.resolve().then(r.t.bind(r,7255,23)),Promise.resolve().then(r.t.bind(r,1021,23))},7459:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,7177,23)),Promise.resolve().then(r.t.bind(r,146,23))},9408:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var s=r(7685),t=r(3810),l=r(1057),n=r(5103);function i(){let[e,a]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)([]),[m,x]=(0,t.useState)({brand:"",model:"",year:"",registration:"",vin:"",mileage:"",price:"",status:"available",color:"",fuelType:"",transmission:"",notes:""});(0,t.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/cars"),r=await e.json();a(r)}catch(e){console.error("Error fetching cars:",e)}finally{i(!1)}},p=async e=>{e.preventDefault();try{(await fetch("/api/cars",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,year:m.year?parseInt(m.year):null,mileage:m.mileage?parseInt(m.mileage):null,price:parseFloat(m.price)})})).ok&&(d(!1),x({brand:"",model:"",year:"",registration:"",vin:"",mileage:"",price:"",status:"available",color:"",fuelType:"",transmission:"",notes:""}),u([]),h())}catch(e){console.error("Error creating car:",e)}},g=async(e,a)=>{try{await fetch(`/api/cars/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})}),h()}catch(e){console.error("Error updating car status:",e)}};return r?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(l.default,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:"Loading..."})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(l.default,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Cars"}),s.jsx("button",{onClick:()=>d(!o),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:o?"Cancel":"Add Car"})]}),o&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Car"}),(0,s.jsxs)("form",{onSubmit:p,children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand *"}),(0,s.jsxs)("select",{required:!0,value:m.brand,onChange:e=>{let a=e.target.value;x({...m,brand:a,model:""}),u(a&&"Other"!==a&&n.p9[a]||[])},className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"Select Brand..."}),n.EK.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Model ","Other"===m.brand?"(Enter Brand Name)":"*"]}),"Other"===m.brand?s.jsx("input",{type:"text",required:!0,value:m.model,onChange:e=>x({...m,model:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"Enter brand name"}):(0,s.jsxs)("select",{required:!0,value:m.model,onChange:e=>x({...m,model:e.target.value}),disabled:!m.brand||0===c.length,className:"w-full px-3 py-2 border rounded disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:m.brand?0===c.length?"No models available":"Select Model...":"Select brand first..."}),c.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year"}),(0,s.jsxs)("select",{value:m.year,onChange:e=>x({...m,year:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"Select Year..."}),n.fi.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price (₹) *"}),s.jsx("input",{type:"number",required:!0,step:"0.01",value:m.price,onChange:e=>x({...m,price:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,s.jsxs)("select",{value:m.status,onChange:e=>x({...m,status:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"sold",children:"Sold"}),s.jsx("option",{value:"reserved",children:"Reserved"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),s.jsx("input",{type:"text",value:m.color,onChange:e=>x({...m,color:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fuel Type"}),(0,s.jsxs)("select",{value:m.fuelType,onChange:e=>x({...m,fuelType:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"petrol",children:"Petrol"}),s.jsx("option",{value:"diesel",children:"Diesel"}),s.jsx("option",{value:"electric",children:"Electric"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Transmission"}),(0,s.jsxs)("select",{value:m.transmission,onChange:e=>x({...m,transmission:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"manual",children:"Manual"}),s.jsx("option",{value:"automatic",children:"Automatic"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mileage (km)"}),s.jsx("input",{type:"number",value:m.mileage,onChange:e=>x({...m,mileage:e.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),s.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Create Car"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Brand"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Model"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Year"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Price"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Seller"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-3",children:e.brand}),s.jsx("td",{className:"px-4 py-3",children:e.model}),s.jsx("td",{className:"px-4 py-3",children:e.year||"-"}),(0,s.jsxs)("td",{className:"px-4 py-3",children:["₹",e.price.toLocaleString()]}),s.jsx("td",{className:"px-4 py-3",children:e.seller?(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:e.seller.name}),e.seller.phone&&s.jsx("div",{className:"text-gray-600 text-xs",children:e.seller.phone})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"-"})}),s.jsx("td",{className:"px-4 py-3",children:(0,s.jsxs)("select",{value:e.status,onChange:a=>g(e.id,a.target.value),className:"px-2 py-1 border rounded",children:[s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"sold",children:"Sold"}),s.jsx("option",{value:"reserved",children:"Reserved"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>{let a=prompt("Enter new price:");a&&fetch(`/api/cars/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({price:parseFloat(a)})}).then(()=>h())},className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Update Price"})})]},e.id))})]})})]})]})}},1057:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c});var s=r(7685),t=r(2384),l=r.n(t),n=r(4950),i=r.n(n),o=r(7986),d=r(3810);function c(){let e=(0,o.useRouter)(),a=(0,o.usePathname)(),[r,t]=(0,d.useState)(!1),n=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/auth/login"),e.refresh()}catch(e){console.error("Logout error:",e)}},c=[{href:"/",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/buyers",label:"Buyers",icon:"\uD83D\uDC65"},{href:"/sellers",label:"Sellers",icon:"\uD83C\uDFE2"},{href:"/cars",label:"Cars",icon:"\uD83D\uDE97"},{href:"/leads",label:"Leads",icon:"\uD83D\uDCCB"},{href:"/followups",label:"Follow-ups",icon:"\uD83D\uDCDE"}],u=e=>a===e;return s.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:s.jsx(i(),{src:"/raghavendra-logo.png",alt:"Car Reseller CRM Logo",width:40,height:40,className:"object-contain"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"Car Reseller CRM"})]}),s.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:c.map(e=>(0,s.jsxs)(l(),{href:e.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u(e.href)?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx("span",{className:"mr-1.5",children:e.icon}),e.label]},e.href))}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(l(),{href:"/auth/change-password",className:"hidden md:flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx("span",{className:"mr-1.5",children:"⚙️"}),"Settings"]}),(0,s.jsxs)("button",{onClick:n,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors shadow-sm hover:shadow",children:[s.jsx("span",{className:"mr-1.5",children:"\uD83D\uDEAA"}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]}),s.jsx("button",{onClick:()=>t(!r),className:"md:hidden p-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),r&&s.jsx("div",{className:"md:hidden border-t border-gray-200 py-2",children:(0,s.jsxs)("nav",{className:"flex flex-col space-y-1",children:[c.map(e=>(0,s.jsxs)(l(),{href:e.href,onClick:()=>t(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u(e.href)?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx("span",{className:"mr-2",children:e.icon}),e.label]},e.href)),(0,s.jsxs)(l(),{href:"/auth/change-password",onClick:()=>t(!1),className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100",children:[s.jsx("span",{className:"mr-2",children:"⚙️"}),"Settings"]})]})})]})})}},5103:(e,a,r)=>{"use strict";r.d(a,{EK:()=>s,fi:()=>l,p9:()=>t});let s=["Maruti Suzuki","Hyundai","Tata","Mahindra","Toyota","Honda","Ford","Volkswagen","Nissan","Renault","Skoda","MG","Kia","Jeep","Mercedes-Benz","BMW","Audi","Volvo","Jaguar","Land Rover","Porsche","Other"],t={"Maruti Suzuki":["Alto","Wagon R","Swift","Dzire","Baleno","Celerio","Ignis","S-Presso","Ertiga","XL6","Vitara Brezza","S-Cross","Ciaz","Eeco","Omni"],Hyundai:["i10","i20","Grand i10","Aura","Verna","Elantra","Creta","Venue","Tucson","Kona","Santro","Xcent"],Tata:["Tiago","Tigor","Altroz","Nexon","Harrier","Safari","Punch","Indica","Indigo","Nano","Sumo","Hexa"],Mahindra:["XUV300","XUV500","XUV700","Scorpio","Bolero","Thar","Marazzo","KUV100","TUV300","Xylo","Verito"],Toyota:["Innova","Fortuner","Camry","Corolla","Etios","Yaris","Glanza","Urban Cruiser","Vellfire"],Honda:["City","Amaze","Civic","Accord","WR-V","CR-V","Brio","Jazz"],Ford:["EcoSport","Endeavour","Figo","Aspire","Freestyle","Mustang"],Volkswagen:["Polo","Vento","Virtus","Taigun","Tiguan","Passat"],Nissan:["Micra","Sunny","Terrano","Kicks","Magnite"],Renault:["Kwid","Triber","Duster","Lodgy","Captur","Kiger"],Skoda:["Rapid","Octavia","Superb","Kodiaq","Kushaq","Slavia"],MG:["Hector","Gloster","ZS EV","Astor","Comet"],Kia:["Seltos","Sonet","Carnival","EV6"],Jeep:["Compass","Wrangler","Meridian"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS"],BMW:["1 Series","2 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8"],Volvo:["XC40","XC60","XC90","S60","S90"],Jaguar:["XE","XF","XJ","F-Pace","E-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Range Rover Evoque","Discovery","Defender"],Porsche:["911","718","Panamera","Macan","Cayenne"],Other:[]},l=(()=>{let e=new Date().getFullYear(),a=[];for(let r=e+1;r>=1990;r--)a.push(r);return a})()},7685:(e,a,r)=>{"use strict";e.exports=r(943).vendored["react-ssr"].ReactJsxRuntime},3883:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{unstable_getImgProps:function(){return o},default:function(){return d}});let s=r(3444),t=r(1920),l=r(4586),n=r(7177),i=s._(r(7868)),o=e=>{(0,l.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:a}=(0,t.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(a))void 0===r&&delete a[e];return{props:a}},d=n.Image},4950:(e,a,r)=>{e.exports=r(3883)},2384:(e,a,r)=>{e.exports=r(146)},7986:(e,a,r)=>{e.exports=r(7435)},1677:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>l,__esModule:()=>t,default:()=>n});let s=(0,r(599).createProxy)(String.raw`/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/cars/page.tsx`),{__esModule:t,$$typeof:l}=s,n=s.default},1883:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>u,metadata:()=>c});var s=r(6491),t=r(2169),l=r.n(t);r(1);var n=r(8275),i=r.n(n),o=r(8018),d=r.n(o);let c={title:"Car Reseller CRM",description:"CRM for used car resellers"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:l().className,children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[s.jsx("main",{className:"flex-grow",children:e}),s.jsx("footer",{className:"mt-auto py-4 px-6 bg-gray-50 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx("span",{children:"Built by"}),(0,s.jsxs)(d(),{href:"https://www.aideveloperindia.store",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[s.jsx(i(),{src:"/raghavendra-logo.png",alt:"AI Developer India Logo",width:24,height:24,className:"object-contain"}),s.jsx("span",{className:"font-medium text-gray-700",children:"AI Developer India"})]})]})})]})})})}},1:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[975,443],()=>r(3752));module.exports=s})();