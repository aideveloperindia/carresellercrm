(()=>{var e={};e.id=929,e.ids=[929],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(9441),a=t(1498),l=t(6580),n=t.n(l),o=t(5511),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let d=["",{children:["followups",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3503)),"/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/followups/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1883)),"/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/followups/page.tsx"],u="/followups/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/followups/page",pathname:"/followups",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1155:(e,s,t)=>{Promise.resolve().then(t.bind(t,4123))},109:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9489,23)),Promise.resolve().then(t.t.bind(t,6225,23)),Promise.resolve().then(t.t.bind(t,5964,23)),Promise.resolve().then(t.t.bind(t,5804,23)),Promise.resolve().then(t.t.bind(t,7255,23)),Promise.resolve().then(t.t.bind(t,1021,23))},7459:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,7177,23)),Promise.resolve().then(t.t.bind(t,146,23))},1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(7685),a=t(2384),l=t.n(a),n=t(4950),o=t.n(n),i=t(7986),d=t(3810);function c(){let e=(0,i.useRouter)(),s=(0,i.usePathname)(),[t,a]=(0,d.useState)(!1),n=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/auth/login"),e.refresh()}catch(e){console.error("Logout error:",e)}},c=[{href:"/",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/buyers",label:"Buyers",icon:"\uD83D\uDC65"},{href:"/sellers",label:"Sellers",icon:"\uD83C\uDFE2"},{href:"/cars",label:"Cars",icon:"\uD83D\uDE97"},{href:"/leads",label:"Leads",icon:"\uD83D\uDCCB"},{href:"/followups",label:"Follow-ups",icon:"\uD83D\uDCDE"}],u=e=>s===e;return r.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)(l(),{href:"/",className:"flex items-center space-x-2 group",children:[r.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:r.jsx(o(),{src:"/raghavendra-logo.png",alt:"Car Reseller CRM Logo",width:40,height:40,className:"object-contain"})}),r.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"Car Reseller CRM"})]}),r.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:c.map(e=>(0,r.jsxs)(l(),{href:e.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u(e.href)?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[r.jsx("span",{className:"mr-1.5",children:e.icon}),e.label]},e.href))}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(l(),{href:"/auth/change-password",className:"hidden md:flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx("span",{className:"mr-1.5",children:"⚙️"}),"Settings"]}),(0,r.jsxs)("button",{onClick:n,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors shadow-sm hover:shadow",children:[r.jsx("span",{className:"mr-1.5",children:"\uD83D\uDEAA"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]}),r.jsx("button",{onClick:()=>a(!t),className:"md:hidden p-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&r.jsx("div",{className:"md:hidden border-t border-gray-200 py-2",children:(0,r.jsxs)("nav",{className:"flex flex-col space-y-1",children:[c.map(e=>(0,r.jsxs)(l(),{href:e.href,onClick:()=>a(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u(e.href)?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("span",{className:"mr-2",children:e.icon}),e.label]},e.href)),(0,r.jsxs)(l(),{href:"/auth/change-password",onClick:()=>a(!1),className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100",children:[r.jsx("span",{className:"mr-2",children:"⚙️"}),"Settings"]})]})})]})})}},4123:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(7685),a=t(3810),l=t(1057);function n(){let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)("all"),[d,c]=(0,a.useState)(!1),[u,x]=(0,a.useState)({leadId:"",buyerId:"",sellerId:"",carId:"",type:"",scheduledAt:"",notes:""});(0,a.useEffect)(()=>{p()},[o]);let p=async()=>{try{let e="all"===o?"/api/followups":`/api/followups?filter=${o}`,t=await fetch(e),r=await t.json();s(r)}catch(e){console.error("Error fetching followups:",e)}finally{n(!1)}},m=async e=>{e.preventDefault();try{(await fetch("/api/followups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,leadId:u.leadId||null,buyerId:u.buyerId||null,sellerId:u.sellerId||null,carId:u.carId||null})})).ok&&(c(!1),x({leadId:"",buyerId:"",sellerId:"",carId:"",type:"",scheduledAt:"",notes:""}),p())}catch(e){console.error("Error creating followup:",e)}},h=async e=>{try{await fetch(`/api/followups/${e}/complete`,{method:"PUT"}),p()}catch(e){console.error("Error completing followup:",e)}};return t?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(l.default,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:"Loading..."})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(l.default,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Follow-ups"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{value:o,onChange:e=>i(e.target.value),className:"px-4 py-2 border rounded",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"overdue",children:"Overdue"})]}),r.jsx("button",{onClick:()=>c(!d),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:d?"Cancel":"Add Follow-up"})]})]}),d&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Follow-up"}),(0,r.jsxs)("form",{onSubmit:m,children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type *"}),r.jsx("input",{type:"text",required:!0,value:u.type,onChange:e=>x({...u,type:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"call, visit, test-drive, payment, etc."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scheduled At *"}),r.jsx("input",{type:"datetime-local",required:!0,value:u.scheduledAt,onChange:e=>x({...u,scheduledAt:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lead ID"}),r.jsx("input",{type:"text",value:u.leadId,onChange:e=>x({...u,leadId:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buyer ID"}),r.jsx("input",{type:"text",value:u.buyerId,onChange:e=>x({...u,buyerId:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),r.jsx("textarea",{value:u.notes,onChange:e=>x({...u,notes:e.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]})]}),r.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Create Follow-up"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Scheduled At"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Notes"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-3",children:e.type}),r.jsx("td",{className:"px-4 py-3",children:new Date(e.scheduledAt).toLocaleString()}),r.jsx("td",{className:"px-4 py-3",children:e.completed?r.jsx("span",{className:"text-green-600",children:"Completed"}):r.jsx("span",{className:"text-orange-600",children:"Pending"})}),r.jsx("td",{className:"px-4 py-3",children:e.notes||"-"}),r.jsx("td",{className:"px-4 py-3",children:!e.completed&&r.jsx("button",{onClick:()=>h(e.id),className:"bg-green-500 text-white px-2 py-1 rounded text-sm",children:"Mark Complete"})})]},e.id))})]})})]})]})}},7685:(e,s,t)=>{"use strict";e.exports=t(943).vendored["react-ssr"].ReactJsxRuntime},3883:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{unstable_getImgProps:function(){return i},default:function(){return d}});let r=t(3444),a=t(1920),l=t(4586),n=t(7177),o=r._(t(7868)),i=e=>{(0,l.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:s}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}},d=n.Image},4950:(e,s,t)=>{e.exports=t(3883)},2384:(e,s,t)=>{e.exports=t(146)},7986:(e,s,t)=>{e.exports=t(7435)},3503:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,t(599).createProxy)(String.raw`/Users/nandagiriaditya/Documents/carresellercrm/apps/web/app/followups/page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default},1883:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,metadata:()=>c});var r=t(6491),a=t(2169),l=t.n(a);t(1);var n=t(8275),o=t.n(n),i=t(8018),d=t.n(i);let c={title:"Car Reseller CRM",description:"CRM for used car resellers"};function u({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:l().className,children:(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[r.jsx("main",{className:"flex-grow",children:e}),r.jsx("footer",{className:"mt-auto py-4 px-6 bg-gray-50 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Built by"}),(0,r.jsxs)(d(),{href:"https://www.aideveloperindia.store",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[r.jsx(o(),{src:"/raghavendra-logo.png",alt:"AI Developer India Logo",width:24,height:24,className:"object-contain"}),r.jsx("span",{className:"font-medium text-gray-700",children:"AI Developer India"})]})]})})]})})})}},1:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[975,443],()=>t(752));module.exports=r})();